<!DOCTYPE html>
<html lang="zh-TW" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wasaa Bot - é¦–é </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        discord: '#5865F2', dark: '#2c2f33', darker: '#23272a', card: '#1e2124', 'card-hover': '#32353b', christmas: '#e74c3c', 'christmas-gold': '#f1c40f'
                    },
                    fontFamily: { sans: ['Noto Sans TC', 'sans-serif'] },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-gold': 'pulse-gold 2s ease-in-out infinite',
                        'shake': 'shake 0.5s ease-in-out',
                        'fade-in': 'fade-in 0.5s ease-out'
                    },
                    keyframes: {
                        'float': { '0%, 100%': { transform: 'translateY(0px)' }, '50%': { transform: 'translateY(-20px)' } },
                        'pulse-gold': { '0%, 100%': { opacity: 1 }, '50%': { opacity: 0.7 } },
                        'shake': { '0%, 100%': { transform: 'translateX(0)' }, '10%, 30%, 50%, 70%, 90%': { transform: 'translateX(-5px)' }, '20%, 40%, 60%, 80%': { transform: 'translateX(5px)' } },
                        'fade-in': { '0%': { opacity: '0', transform: 'scale(0.8)' }, '100%': { opacity: '1', transform: 'scale(1)' } }
                    }
                }
            }
        }
    </script>
    <style>
        details>summary { list-style: none; outline: none; }
        details>summary::-webkit-details-marker { display: none; }
        details>summary:focus { outline: none; }
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #2c2f33; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #5865F2; border-radius: 4px; }
        
        @keyframes sock-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }
        .sock-animation {
            animation: sock-float 3s ease-in-out infinite;
            filter: drop-shadow(0 5px 15px rgba(241, 196, 15, 0.5));
        }
        .sparkle {
            position: absolute; width: 10px; height: 10px; background: gold; border-radius: 50%; pointer-events: none; animation: sparkle 1s ease-out forwards;
        }
        .sock-container {
            position: fixed;
            z-index: 9999;
            pointer-events: none;
        }
        .sock-container img {
            pointer-events: auto;
        }
    </style>
</head>

<body class="bg-darker text-gray-100 font-sans antialiased flex flex-col min-h-screen">

    <nav class="fixed w-full z-50 bg-dark/95 backdrop-blur border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center gap-3">
                    <img src="/static/2025-10-09_8.16.05.jpg" alt="Logo" class="h-10 w-10 rounded-full border-2 border-discord">
                    <span class="font-bold text-xl tracking-wide">Wasaa Bot</span>
                </div>
                <div class="hidden md:flex space-x-8">
                    <a href="/" class="text-discord font-bold px-3 py-2">é¦–é </a>
                    <a href="/features" class="hover:text-discord transition px-3 py-2">åŠŸèƒ½ç‰¹è‰²</a>
                    <a href="/commands" class="hover:text-discord transition px-3 py-2">æŒ‡ä»¤åˆ—è¡¨</a>
                    <a href="/dashboard" class="bg-discord hover:bg-blue-600 px-4 py-2 rounded-full transition shadow-lg">æ§åˆ¶å°</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-300 hover:text-white focus:outline-none p-2"><i class="fa-solid fa-bars text-2xl"></i></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden border-t border-gray-800 bg-darker transition-all duration-300 ease-in-out">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="/" class="bg-discord/10 text-discord block px-3 py-2 rounded-md text-base font-bold">é¦–é </a>
                <a href="/features" class="text-gray-300 hover:text-white hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium">åŠŸèƒ½ç‰¹è‰²</a>
                <a href="/commands" class="text-gray-300 hover:text-white hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium">æŒ‡ä»¤åˆ—è¡¨</a>
                <a href="/dashboard" class="text-gray-300 hover:text-white hover:bg-gray-700 block px-3 py-2 rounded-md text-base font-medium">æ§åˆ¶å°</a>
            </div>
        </div>
    </nav>

    <section class="min-h-screen flex flex-col justify-center items-center text-center px-4 relative overflow-hidden pb-20 pt-32">
        <!-- è–èª•ç¯€æ´»å‹•æ©«å¹… -->
        <div class="absolute top-20 left-0 right-0 z-20">
            <div class="max-w-2xl mx-auto animate-pulse-gold">
                <div class="bg-gradient-to-r from-red-600/20 via-green-600/20 to-red-600/20 backdrop-blur-sm border-2 border-christmas-gold/50 rounded-full px-8 py-3 inline-block">
                    <div class="flex items-center justify-center gap-3">
                        <i class="fa-solid fa-socks text-christmas-gold"></i>
                        <span class="font-bold text-christmas-gold">ğŸ„ è–èª•ç¯€é™æ™‚æ´»å‹•ï¼å°‹æ‰¾éš±è—è–èª•è¥ª ğŸ„</span>
                        <i class="fa-solid fa-gift text-christmas-gold"></i>
                    </div>
                </div>
            </div>
        </div>

        <div class="relative z-10 animate-fade-in-up">
            <img src="/static/2025-10-09_8.16.05.jpg" alt="Bot Avatar" class="w-48 h-48 rounded-full border-4 border-discord shadow-[0_0_30px_rgba(88,101,242,0.6)] mx-auto mb-8 object-cover">
            <h1 class="text-5xl md:text-7xl font-extrabold mb-6">å®ˆè­·ä½ çš„ <span class="text-discord">Discord</span> ç¤¾ç¾¤</h1>
            <p class="mt-4 text-xl text-gray-400 max-w-2xl mx-auto">é›†çµå¼·å¤§çš„é˜²åˆ·é »ç³»çµ±ã€è‡ªå‹•åŒ–å·¥å–®æœå‹™èˆ‡ç²¾ç´°çš„èº«åˆ†çµ„ç®¡ç†ã€‚<br>è®“ç®¡ç†è®Šå¾—å‰æ‰€æœªæœ‰çš„ç°¡å–®ã€‚</p>
            
            <div class="mt-12 grid grid-cols-2 gap-8 max-w-lg mx-auto">
                <div class="bg-card p-4 rounded-xl border-t-4 border-discord shadow-lg">
                    <p class="text-gray-400 text-sm">æœå‹™ç¾¤çµ„</p>
                    <p class="text-3xl font-bold text-white" id="guild-count">Loading...</p>
                </div>
                <div class="bg-card p-4 rounded-xl border-t-4 border-pink-500 shadow-lg">
                    <p class="text-gray-400 text-sm">æœå‹™æˆå“¡</p>
                    <p class="text-3xl font-bold text-white" id="member-count">Loading...</p>
                </div>
            </div>

            <!-- è–èª•æ´»å‹•èªªæ˜ -->
            <div class="mt-12 max-w-2xl mx-auto bg-card/50 backdrop-blur-sm p-6 rounded-2xl border border-christmas/30">
                <h3 class="text-2xl font-bold mb-4 text-christmas-gold flex items-center justify-center gap-3">
                    <i class="fa-solid fa-socks"></i> è–èª•å°‹å¯¶æ´»å‹• <i class="fa-solid fa-gift"></i>
                </h3>
                <p class="text-gray-300 mb-4">
                    <span id="currentSocksCount" class="text-christmas-gold font-bold text-2xl">3</span> éš»è–èª•è¥ªæ­£åœ¨ç¶²ç«™ä¸Šæ¼‚æµ®ï¼<br>
                    æ¯å°æ™‚å¯é ˜å– <span class="text-christmas-gold font-bold">3 å€‹</span> ç¦®ç‰©ã€‚æ‰¾åˆ°å®ƒå€‘ä¸¦é»æ“Šç²å–ä»£ç¢¼ï¼
                </p>
                <div class="grid grid-cols-2 gap-4 text-sm">
                    <div class="text-left p-3 bg-gray-800/50 rounded-lg">
                        <p class="font-bold text-christmas-gold mb-1">ğŸ¯ å¦‚ä½•åƒèˆ‡</p>
                        <ol class="list-decimal list-inside text-gray-300 space-y-1">
                            <li>å°‹æ‰¾æµ®å‹•è–èª•è¥ª (ç›®å‰æœ‰ <span id="visibleSocks" class="text-christmas-gold">3</span> éš»)</li>
                            <li>é»æ“Šç²å–éš¨æ©Ÿä»£ç¢¼</li>
                            <li>Discord è¼¸å…¥ <code>/è–èª•å…Œæ›</code></li>
                            <li>æ¯å°æ™‚å¯é ˜ 3 æ¬¡ï¼</li>
                        </ol>
                    </div>
                    <div class="text-left p-3 bg-gray-800/50 rounded-lg">
                        <p class="font-bold text-green-500 mb-1">ğŸ† ç©åˆ†çå‹µ</p>
                        <ul class="text-gray-300 space-y-1">
                            <li>â€¢ æ™®é€šè¥ª: 10 åˆ†</li>
                            <li>â€¢ ç²¾ç·»è¥ª: 30 åˆ†</li>
                            <li>â€¢ ç¨€æœ‰è¥ª: 50 åˆ†</li>
                            <li>â€¢ å‚³èªªè¥ª: 100 åˆ† (æ¥µç¨€æœ‰!)</li>
                        </ul>
                    </div>
                </div>
                
                <!-- ç‹€æ…‹é¡¯ç¤º -->
                <div class="mt-6 pt-4 border-t border-gray-700">
                    <div class="flex items-center justify-center gap-6">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-christmas-gold" id="hourlyRemaining">3</div>
                            <div class="text-xs text-gray-400">æœ¬å°æ™‚å¯é ˜å–</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-500" id="visibleSocksCount">3</div>
                            <div class="text-xs text-gray-400">é¡¯ç¤ºä¸­çš„è¥ªå­</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-blue-500" id="collectedToday">0</div>
                            <div class="text-xs text-gray-400">ä»Šæ—¥å·²é ˜å–</div>
                        </div>
                    </div>
                    
                    <!-- é€²åº¦æ¢ -->
                    <div class="mt-4">
                        <div class="flex justify-between text-xs text-gray-400 mb-1">
                            <span>æœ¬å°æ™‚é€²åº¦</span>
                            <span id="progressText">0/3</span>
                        </div>
                        <div class="h-2 bg-gray-700 rounded-full overflow-hidden">
                            <div id="progressBar" class="h-full bg-gradient-to-r from-green-500 to-christmas-gold transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-12">
                <a href="https://discord.com/oauth2/authorize?client_id=YOUR_CLIENT_ID&permissions=8&integration_type=0&scope=bot" target="_blank" class="bg-discord text-white px-8 py-4 rounded-full font-bold text-lg hover:bg-blue-600 transition shadow-lg hover:shadow-discord/50 transform hover:-translate-y-1 inline-block">
                    <i class="fa-brands fa-discord mr-2"></i> ç«‹å³é‚€è«‹æ©Ÿå™¨äºº
                </a>
            </div>
        </div>

        <div class="mt-32 max-w-4xl w-full text-left mx-auto relative z-10">
            <h2 class="text-2xl font-bold text-center mb-8 text-gray-200">æ³•å¾‹èˆ‡æ¢æ¬¾</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-card rounded-xl border border-gray-800 overflow-hidden">
                    <details class="group">
                        <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-gray-800 transition select-none">
                            <span class="font-bold text-lg text-discord"><i class="fa-solid fa-file-contract mr-2"></i> æœå‹™æ¢æ¬¾ (TOS)</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 pt-0 text-sm text-gray-400 space-y-4 border-t border-gray-800 leading-relaxed h-96 overflow-y-auto custom-scrollbar">
                            <p class="italic text-xs">ç•¶æ‚¨ä½¿ç”¨æˆ‘å€‘çš„ wasaa æ©Ÿå™¨äººæœå‹™æ™‚ï¼Œä»£è¡¨æ‚¨åŒæ„ä»¥ä¸‹æ¢æ¬¾å’Œæ¢ä»¶ï¼š</p>
                            <div><strong class="text-gray-200 block mb-1">1. æœå‹™å…§å®¹</strong>
                                <p>æˆ‘å€‘æä¾›çš„Discordæ©Ÿå™¨äººæœå‹™æ˜¯ä¸€ç¨®è‡ªå‹•åŒ–ç¨‹å¼ï¼Œå¯ä»¥å¹«åŠ©æ‚¨ç®¡ç†å’Œç›£æ§æ‚¨çš„Discordä¼ºæœå™¨ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">2. ä½¿ç”¨é™åˆ¶</strong>
                                <p>æ‚¨ä¸å¾—ä½¿ç”¨æˆ‘å€‘çš„Discordæ©Ÿå™¨äººæœå‹™é€²è¡Œä»»ä½•éæ³•æˆ–é•åé“å¾·çš„è¡Œç‚ºã€‚æ‚¨çš„ä½¿ç”¨è¡Œç‚ºæ‡‰éµå®ˆDiscordå¹³å°çš„ä½¿ç”¨æ¢æ¬¾å’Œæ”¿ç­–ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">3. éš±ç§ä¿è­·</strong>
                                <p>æˆ‘å€‘æœƒåš´æ ¼ä¿è­·æ‚¨çš„å€‹äººè³‡æ–™å’Œéš±ç§ï¼Œä¸æœƒå°‡å…¶æ³„éœ²çµ¦ä»»ä½•ç¬¬ä¸‰æ–¹ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">4. è²¬ä»»é™åˆ¶</strong>
                                <p>æˆ‘å€‘ä¸å°ä»»ä½•å› ä½¿ç”¨æˆ‘å€‘çš„Discordæ©Ÿå™¨äººæœå‹™è€Œå°è‡´çš„æå¤±æˆ–æå®³è² è²¬ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">5. ç¦æ­¢æˆäººå…§å®¹</strong>
                                <p>æ‚¨ä¸å¾—ä½¿ç”¨æˆ‘å€‘çš„Discordæ©Ÿå™¨äººæœå‹™å‚³é€æˆ–ä¿ƒé€²ä»»ä½•æˆäººæˆ–æ€§åˆ¥ç›¸é—œçš„å…§å®¹ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">6. æœå‹™è®Šæ›´å’Œçµ‚æ­¢</strong>
                                <p>æˆ‘å€‘ä¿ç•™éš¨æ™‚è®Šæ›´æˆ–çµ‚æ­¢æœ¬æœå‹™çš„æ¬Šåˆ©ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">7. æº–æ“šæ³•å’Œç®¡è½„æ¬Š</strong>
                                <p>æœ¬æ¢æ¬¾å’Œæ¢ä»¶å—ä¸­è¯æ°‘åœ‹å°ç£ç›¸é—œæ³•å¾‹ç®¡è½„ã€‚</p>
                            </div>
                            <p class="text-xs border-t border-gray-700 pt-2 mt-2">å¦‚æœæ‚¨ä½¿ç”¨æˆ‘å€‘çš„Discordæ©Ÿå™¨äººæœå‹™ï¼Œå³ä»£è¡¨æ‚¨å·²é–±è®€ã€ç†è§£ä¸¦åŒæ„ä¸Šè¿°æ¢æ¬¾å’Œæ¢ä»¶ã€‚</p>
                        </div>
                    </details>
                </div>

                <div class="bg-card rounded-xl border border-gray-800 overflow-hidden">
                    <details class="group">
                        <summary class="flex items-center justify-between p-6 cursor-pointer hover:bg-gray-800 transition select-none">
                            <span class="font-bold text-lg text-green-500"><i class="fa-solid fa-user-shield mr-2"></i> éš±ç§æ¬Šæ”¿ç­– (Privacy)</span>
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <div class="p-6 pt-0 text-sm text-gray-400 space-y-4 border-t border-gray-800 leading-relaxed h-96 overflow-y-auto custom-scrollbar">
                            <p class="italic text-xs">wasaaéå¸¸é‡è¦–æ‚¨çš„éš±ç§æ¬Šï¼Œä»¥ä¸‹æ˜¯æˆ‘å€‘çš„æ©Ÿå™¨äººéš±ç§æ¬Šæ”¿ç­–ï¼š</p>
                            <div><strong class="text-gray-200 block mb-1">1. æˆ‘å€‘æ‰€æ”¶é›†çš„è³‡æ–™</strong>
                                <p>æˆ‘å€‘å¯èƒ½æœƒæ”¶é›†æ‚¨çš„Discordå¸³æˆ¶è³‡è¨Šã€ä¼ºæœå™¨è¨­å®šå’Œä½¿ç”¨è¨˜éŒ„ç­‰ç›¸é—œè³‡æ–™ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">2. æˆ‘å€‘å¦‚ä½•ä½¿ç”¨æ‰€æ”¶é›†çš„è³‡æ–™</strong>
                                <p>æˆ‘å€‘æœƒä½¿ç”¨æ‰€æ”¶é›†çš„è³‡æ–™ä¾†æä¾›å’Œæ”¹é€²æˆ‘å€‘çš„Discordæ©Ÿå™¨äººæœå‹™ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">3. æˆ‘å€‘å¦‚ä½•ä¿è­·æ‚¨çš„è³‡æ–™</strong>
                                <p>æˆ‘å€‘æœƒæ¡å–é©ç•¶çš„æŠ€è¡“å’Œçµ„ç¹”æªæ–½ä¾†ä¿è­·æ‚¨çš„è³‡æ–™å®‰å…¨ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">4. æˆ‘å€‘å¦‚ä½•åˆ†äº«æ‚¨çš„è³‡æ–™</strong>
                                <p>æˆ‘å€‘ä¸æœƒå°‡æ‚¨çš„è³‡æ–™å‡ºå”®ã€äº¤æ˜“æˆ–è½‰ç§»çµ¦ä»»ä½•ç¬¬ä¸‰æ–¹ã€‚</p>
                            </div>
                            <div><strong class="text-gray-200 block mb-1">5. æˆ‘å€‘å¦‚ä½•ä¿ç•™æ‚¨çš„è³‡æ–™</strong>
                                <p>æˆ‘å€‘åƒ…åœ¨å¿…è¦æ™‚ä¿ç•™æ‚¨çš„è³‡æ–™ï¼Œä»¥æä¾›æœå‹™å’Œéµå®ˆæ³•å¾‹è¦æ±‚ã€‚</p>
                            </div>
                            <p class="text-xs border-t border-gray-700 pt-2 mt-2">å¦‚æœæ‚¨å°æˆ‘å€‘çš„Discordæ©Ÿå™¨äººéš±ç§æ¬Šæ”¿ç­–æœ‰ä»»ä½•å•é¡Œæˆ–ç–‘æ…®ï¼Œè«‹éš¨æ™‚è¯ç¹«æˆ‘å€‘ç®¡ç†åœ˜éšŠã€‚</p>
                        </div>
                    </details>
                </div>
            </div>
        </div>

        <div class="absolute top-0 left-0 w-full h-full -z-10 opacity-30 pointer-events-none">
            <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-discord rounded-full mix-blend-multiply filter blur-[128px]"></div>
            <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-600 rounded-full mix-blend-multiply filter blur-[128px]"></div>
        </div>
    </section>

    <footer class="bg-darker py-6 border-t border-gray-800 w-full mt-auto">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-gray-500 text-sm">Â© 2025 wasaa ç‰ˆæ¬Šæ‰€æœ‰ | ä½¿ç”¨ <code>/å¹«åŠ©</code> æŸ¥çœ‹æ›´å¤š</p>
        </div>
    </footer>

    <script>
        // === æ‰‹æ©Ÿé¸å–® ===
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');
        if (btn && menu) { btn.addEventListener('click', () => { menu.classList.toggle('hidden'); }); }

        // === çµ±è¨ˆæ•¸å­—å‹•ç•« ===
        function animateValue(id, endValue, duration) {
            const obj = document.getElementById(id);
            if (!obj) return;
            const startValue = 0; let startTime = null;
            function step(currentTime) {
                if (!startTime) startTime = currentTime;
                const progress = Math.min((currentTime - startTime) / duration, 1);
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                const current = Math.floor(easeProgress * (endValue - startValue) + startValue);
                obj.innerText = current.toLocaleString();
                if (progress < 1) { window.requestAnimationFrame(step); } else { obj.innerText = endValue.toLocaleString(); }
            }
            window.requestAnimationFrame(step);
        }

        // === ç²å–æ©Ÿå™¨äººçµ±è¨ˆ ===
        fetch('/api/stats').then(r => r.json()).then(data => {
            animateValue("guild-count", data.guild_count, 2000);
            animateValue("member-count", data.member_count, 2000);
        }).catch((err) => {
            document.getElementById("guild-count").innerText = "158";
            document.getElementById("member-count").innerText = "52,340";
        });

        // === ğŸ 25çµ„å›ºå®šä»£ç¢¼è–èª•è¥ªç³»çµ± ===
        (function() {
            // 25çµ„å›ºå®šä»£ç¢¼
            const codes = [
                "SOCK-RED-01", "SOCK-GRN-02", "SOCK-BLU-03", "SOCK-YEL-04", "SOCK-PNK-05",
                "SOCK-WHT-06", "SOCK-BLK-07", "SOCK-ORG-08", "SOCK-PUR-09", "SOCK-CYN-10",
                "GIFT-BOX-11", "GIFT-BOW-12", "GIFT-STAR-13", "GIFT-BELL-14", "GIFT-TREE-15",
                "GIFT-CANDY-16", "GIFT-COOKIE-17", "GIFT-MILK-18",
                "SANTA-HAT-19", "SANTA-SLED-20", "SANTA-DEER-21", "SANTA-ELF-22",
                "RUDOLPH-NOSE-23", "FROSTY-SNOW-24", "WASAA-SECRET-25"
            ];
            
            // è–èª•è¥ªåœ–ç¤ºï¼ˆä½¿ç”¨ emoji ç¢ºä¿é¡¯ç¤ºï¼‰
            const sockEmojis = ["ğŸ§¦", "ğŸ", "ğŸ…", "ğŸŒŸ", "âœ¨"];
            
            // æ¯å°æ™‚å¯é ˜å–æ•¸é‡
            const MAX_PER_HOUR = 3;
            
            // ç‹€æ…‹è®Šæ•¸
            let hourlyRemaining = MAX_PER_HOUR;
            let collectedToday = 0;
            let lastCollectHour = new Date().getHours();
            let activeSocks = [];
            
            // æ›´æ–°é¡¯ç¤º
            function updateDisplay() {
                // æ›´æ–°æ•¸å­—é¡¯ç¤º
                document.getElementById('hourlyRemaining').textContent = hourlyRemaining;
                document.getElementById('visibleSocksCount').textContent = hourlyRemaining;
                document.getElementById('visibleSocks').textContent = hourlyRemaining;
                document.getElementById('currentSocksCount').textContent = hourlyRemaining;
                document.getElementById('collectedToday').textContent = collectedToday;
                
                // æ›´æ–°é€²åº¦æ¢
                const used = MAX_PER_HOUR - hourlyRemaining;
                const progress = (used / MAX_PER_HOUR) * 100;
                document.getElementById('progressBar').style.width = `${progress}%`;
                document.getElementById('progressText').textContent = `${used}/${MAX_PER_HOUR}`;
                
                // æ›´æ–°è¥ªå­æ•¸é‡
                updateSocksVisibility();
            }
            
            // æ›´æ–°è¥ªå­å¯è¦‹æ€§
            function updateSocksVisibility() {
                const targetCount = hourlyRemaining;
                const currentCount = activeSocks.length;
                
                // å¦‚æœéœ€è¦çš„è¥ªå­æ¯”ç¾æœ‰å°‘ï¼Œç§»é™¤å¤šé¤˜çš„
                if (currentCount > targetCount) {
                    const toRemove = currentCount - targetCount;
                    for (let i = 0; i < toRemove; i++) {
                        if (activeSocks.length > 0) {
                            const sock = activeSocks.pop();
                            removeSock(sock);
                        }
                    }
                }
                // å¦‚æœéœ€è¦çš„è¥ªå­æ¯”ç¾æœ‰å¤šï¼Œæ·»åŠ æ–°çš„
                else if (currentCount < targetCount) {
                    const toAdd = targetCount - currentCount;
                    for (let i = 0; i < toAdd; i++) {
                        spawnSock();
                    }
                }
            }
            
            // ç”Ÿæˆä¸€å€‹è–èª•è¥ª
            function spawnSock() {
                const sock = document.createElement('div');
                sock.className = 'sock-container animate-fade-in';
                sock.style.position = 'fixed';
                sock.style.zIndex = '9999';
                sock.style.pointerEvents = 'none';
                
                // éš¨æ©Ÿä½ç½®ï¼ˆé¿é–‹é‚Šç·£ï¼‰
                const x = Math.random() * (window.innerWidth - 120) + 60;
                const y = Math.random() * (window.innerHeight - 120) + 60;
                sock.style.left = `${x}px`;
                sock.style.top = `${y}px`;
                
                // å‰µå»ºè¥ªå­å…§å®¹ï¼ˆä½¿ç”¨ emojiï¼‰
                const emoji = sockEmojis[Math.floor(Math.random() * sockEmojis.length)];
                sock.innerHTML = `
                    <div class="relative">
                        <div class="sock-animation text-6xl cursor-pointer" style="pointer-events: auto; filter: drop-shadow(0 5px 15px rgba(241, 196, 15, 0.5));">
                            ${emoji}
                        </div>
                        <div class="absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-xs flex items-center justify-center font-bold animate-pulse">
                            !
                        </div>
                    </div>
                `;
                
                // é»æ“Šäº‹ä»¶
                const sockElement = sock.querySelector('.sock-animation');
                sockElement.onclick = function(e) {
                    e.stopPropagation();
                    handleSockClick(sock, x, y);
                };
                
                sockElement.onmouseenter = function() {
                    sockElement.style.transform = 'scale(1.3)';
                    sockElement.style.filter = 'drop-shadow(0 10px 25px rgba(241, 196, 15, 0.9)) brightness(1.2)';
                };
                
                sockElement.onmouseleave = function() {
                    sockElement.style.transform = 'scale(1)';
                    sockElement.style.filter = 'drop-shadow(0 5px 15px rgba(241, 196, 15, 0.5)) brightness(1)';
                };
                
                document.body.appendChild(sock);
                activeSocks.push(sock);
                
                return sock;
            }
            
            // ç§»é™¤è–èª•è¥ª
            function removeSock(sock) {
                if (sock.parentNode) {
                    sock.style.opacity = '0';
                    sock.style.transform = 'scale(0.5)';
                    setTimeout(() => {
                        if (sock.parentNode) {
                            sock.parentNode.removeChild(sock);
                        }
                    }, 300);
                }
                // å¾é™£åˆ—ä¸­ç§»é™¤
                const index = activeSocks.indexOf(sock);
                if (index > -1) {
                    activeSocks.splice(index, 1);
                }
            }
            
            // è™•ç†è¥ªå­é»æ“Š
            function handleSockClick(sock, x, y) {
                // æª¢æŸ¥æ¯å°æ™‚é™åˆ¶
                checkHourlyReset();
                if (hourlyRemaining <= 0) {
                    alert('âŒ æœ¬å°æ™‚çš„é ˜å–æ¬¡æ•¸å·²ç”¨å®Œï¼è«‹ä¸‹å€‹å°æ™‚å†ä¾†ã€‚');
                    return;
                }
                
                // éš¨æ©Ÿé¸æ“‡ä¸€å€‹ä»£ç¢¼
                const randomCode = codes[Math.floor(Math.random() * codes.length)];
                
                // æ ¹æ“šä»£ç¢¼åˆ¤æ–·åˆ†æ•¸
                let score = 10; // é è¨­10åˆ†
                if (randomCode.includes('GIFT-')) score = 30;
                if (randomCode.includes('SANTA-')) score = 50;
                if (randomCode.includes('SECRET') || randomCode.includes('RUDOLPH') || randomCode.includes('FROSTY')) score = 100;
                
                // æ›´æ–°è¨ˆæ•¸å™¨
                collectedToday++;
                hourlyRemaining--;
                
                // é¡¯ç¤ºç«èŠ±æ•ˆæœ
                createSparkles(x, y);
                
                // å‹•ç•«æ•ˆæœ
                sock.style.animation = 'shake 0.5s ease-in-out';
                sock.querySelector('.sock-animation').style.transform = 'scale(1.5) rotate(360deg)';
                sock.style.opacity = '0';
                
                setTimeout(() => {
                    removeSock(sock);
                    updateDisplay();
                    showCodeModal(randomCode, score);
                }, 500);
            }
            
            // ç«èŠ±æ•ˆæœ
            function createSparkles(x, y) {
                for (let i = 0; i < 8; i++) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = (x + Math.random() * 60 - 30) + 'px';
                    sparkle.style.top = (y + Math.random() * 60 - 30) + 'px';
                    sparkle.style.animationDelay = (Math.random() * 0.5) + 's';
                    document.body.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 1000);
                }
            }
            
            // æª¢æŸ¥æ¯å°æ™‚é‡ç½®
            function checkHourlyReset() {
                const currentHour = new Date().getHours();
                if (currentHour !== lastCollectHour) {
                    hourlyRemaining = MAX_PER_HOUR;
                    lastCollectHour = currentHour;
                    updateDisplay();
                }
            }
            
            // åˆå§‹åŒ–
            function init() {
                // æª¢æŸ¥é‡ç½®
                checkHourlyReset();
                
                // åˆå§‹é¡¯ç¤º
                updateDisplay();
                
                // ç”Ÿæˆåˆå§‹è¥ªå­
                for (let i = 0; i < hourlyRemaining; i++) {
                    setTimeout(() => spawnSock(), i * 300); // åˆ†æ‰¹ç”Ÿæˆ
                }
                
                // å®šæœŸæª¢æŸ¥é‡ç½®
                setInterval(checkHourlyReset, 60000); // æ¯åˆ†é˜æª¢æŸ¥ä¸€æ¬¡
                
                // æ¯5åˆ†é˜é‡æ–°æ’åˆ—è¥ªå­ä½ç½®ï¼ˆé˜²æ­¢é‡ç–Šï¼‰
                setInterval(() => {
                    activeSocks.forEach((sock, index) => {
                        setTimeout(() => {
                            if (sock.parentNode) {
                                const x = Math.random() * (window.innerWidth - 120) + 60;
                                const y = Math.random() * (window.innerHeight - 120) + 60;
                                sock.style.transition = 'all 1s ease-in-out';
                                sock.style.left = `${x}px`;
                                sock.style.top = `${y}px`;
                                
                                // å‹•ç•«çµæŸå¾Œç§»é™¤éæ¸¡
                                setTimeout(() => {
                                    sock.style.transition = '';
                                }, 1000);
                            }
                        }, index * 200);
                    });
                }, 300000); // æ¯5åˆ†é˜
            }
            
            // é é¢è¼‰å…¥å®Œæˆå¾Œåˆå§‹åŒ–
            window.addEventListener('load', init);
            
            // è¦–çª—å¤§å°æ”¹è®Šæ™‚èª¿æ•´ä½ç½®
            window.addEventListener('resize', () => {
                activeSocks.forEach(sock => {
                    if (sock.parentNode) {
                        const x = Math.random() * (window.innerWidth - 120) + 60;
                        const y = Math.random() * (window.innerHeight - 120) + 60;
                        sock.style.left = `${x}px`;
                        sock.style.top = `${y}px`;
                    }
                });
            });

        })();

        // === é¡¯ç¤ºä»£ç¢¼æ¨¡æ…‹æ¡† ===
        function showCodeModal(code, score) {
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-red-900/90 to-green-900/90 backdrop-blur-sm max-w-md w-full rounded-2xl border-4 border-christmas-gold overflow-hidden animate-shake">
                    <div class="bg-gradient-to-r from-red-600 to-green-600 p-6 text-center">
                        <div class="text-5xl mb-4">ğŸ</div>
                        <h3 class="text-2xl font-bold text-white">æ‰¾åˆ°è–èª•è¥ªäº†ï¼</h3>
                    </div>
                    <div class="p-8 text-center">
                        <div class="bg-black/50 p-4 rounded-xl mb-6">
                            <p class="text-gray-300 mb-2">ä½ çš„å…Œæ›ä»£ç¢¼ï¼š</p>
                            <p class="text-2xl font-mono font-bold text-christmas-gold bg-gray-900 p-3 rounded-lg tracking-wider">
                                ${code}
                            </p>
                            <p class="text-green-400 font-bold mt-4">
                                <i class="fas fa-star"></i> ç²å¾— ${score} ç©åˆ†
                            </p>
                            <p class="text-xs text-gray-400 mt-2">
                                ${code.includes('SOCK-') ? 'ğŸ§¦ è¥ªå­ä»£ç¢¼' : 
                                  code.includes('GIFT-') ? 'ğŸ ç¦®ç‰©ä»£ç¢¼' : 
                                  code.includes('SANTA-') ? 'ğŸ… è–èª•ä»£ç¢¼' : 
                                  'ğŸŒŸ ç¨€æœ‰ä»£ç¢¼'}
                            </p>
                        </div>
                        <p class="text-gray-300 mb-6">
                            ç«‹å³åˆ° Discord ä½¿ç”¨æŒ‡ä»¤ï¼š<br>
                            <code class="bg-gray-800 px-3 py-1 rounded mt-2 inline-block">/è–èª•å…Œæ› ${code}</code>
                        </p>
                        <div class="text-sm text-gray-400 p-4 bg-gray-900/50 rounded-lg">
                            <p class="flex items-start mb-2">
                                <i class="fas fa-info-circle text-blue-400 mr-2 mt-1"></i>
                                æœ¬å°æ™‚é‚„å¯é ˜å– <span class="text-christmas-gold font-bold" id="remainingAfter">${document.getElementById('hourlyRemaining').textContent}</span> æ¬¡
                            </p>
                            <p class="flex items-start">
                                <i class="fas fa-clock text-yellow-400 mr-2 mt-1"></i>
                                ä¸‹å€‹å°æ™‚æœƒé‡ç½®ç‚º 3 æ¬¡
                            </p>
                        </div>
                    </div>
                    <div class="p-6 border-t border-christmas-gold/30 text-center">
                        <button onclick="this.closest('.fixed').remove()" class="px-8 py-3 bg-christmas hover:bg-red-700 text-white font-bold rounded-full transition">
                            <i class="fas fa-check mr-2"></i> æˆ‘çŸ¥é“äº†
                        </button>
                    </div>
                </div>`;
            
            document.body.appendChild(modal);
            
            // è‡ªå‹•è¤‡è£½åˆ°å‰ªè²¼ç°¿
            setTimeout(() => {
                navigator.clipboard.writeText(code).then(() => {
                    const btn = modal.querySelector('button');
                    btn.innerHTML = '<i class="fas fa-copy mr-2"></i> å·²è¤‡è£½ä»£ç¢¼ï¼';
                    btn.classList.add('bg-green-600');
                }).catch(() => {
                    // è¤‡è£½å¤±æ•—ä¹Ÿæ²’é—œä¿‚
                });
            }, 100);
        }
    </script>
</body>
</html>
